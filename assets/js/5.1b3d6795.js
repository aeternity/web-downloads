(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{311:function(t,e,n){"use strict";var r=n(0),a=n(29).find,i=n(95),s=n(17),c=!0,u=s("find");"find"in[]&&Array(1).find((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},313:function(t,e,n){"use strict";var r,a=n(0),i=n(25).f,s=n(13),c=n(101),u=n(23),o=n(102),f=n(20),d="".endsWith,l=Math.min,h=o("endsWith");a({target:"String",proto:!0,forced:!!(f||h||(r=i(String.prototype,"endsWith"),!r||r.writable))&&!h},{endsWith:function(t){var e=String(u(this));c(t);var n=arguments.length>1?arguments[1]:void 0,r=s(e.length),a=void 0===n?r:l(s(n),r),i=String(t);return d?d.call(e,i,a):e.slice(a-i.length,a)===i}})},359:function(t,e,n){var r=n(0),a=n(5);r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperties:n(179)})},360:function(t,e,n){var r=n(0),a=n(1),i=n(14),s=n(25).f,c=n(5),u=a((function(){s(1)}));r({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(t,e){return s(i(t),e)}})},368:function(t,e,n){"use strict";n.r(e);n(176),n(24),n(311),n(168),n(44),n(314),n(315),n(316),n(9),n(308),n(313),n(169),n(26),n(181),n(30),n(46),n(97),n(359),n(178),n(360),n(180),n(92),n(98);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(96);var s=n(48),c=n(317),u={props:{baseUrl:{type:String,default:"https://aeternity-database-backups.s3.eu-central-1.amazonaws.com"},backupsCnt:{type:Number,default:10}},components:{Tabs:c.Tabs,Tab:c.Tab},data:function(){return{backups:[],cnt:this.backupsCnt}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.baseUrl).then((function(t){return t.text()})).catch((function(){}));case 2:return n=e.sent,r=t.parseXml(n),e.next=6,t.parseChecksums(r).catch((function(){}));case 6:t.backups=e.sent;case 7:case"end":return e.stop()}}),e)})))()},fetchChecksum:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(e.baseUrl,"/").concat(t.key,".md5")).then((function(t){return t.text()})).then((function(t){return t})).catch((function(){}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},parseChecksums:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=[],a=regeneratorRuntime.mark((function n(a){var s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s=t[a]).key.includes(".md5")){n.next=3;break}return n.abrupt("return","continue");case 3:if(!t.find((function(t){return t.key==="".concat(s.key,".md5")}))){n.next=9;break}return n.next=6,e.fetchChecksum(s).catch((function(){}));case 6:return c=n.sent,r.push(i(i({},s),{},{checksum:c})),n.abrupt("return","continue");case 9:r.push(s);case 10:case"end":return n.stop()}}),n)})),s=t.length-1;case 3:if(!(s>=0)){n.next=11;break}return n.delegateYield(a(s),"t0",5);case 5:if("continue"!==n.t0){n.next=8;break}return n.abrupt("continue",8);case 8:s--,n.next=3;break;case 11:return n.abrupt("return",r);case 12:case"end":return n.stop()}}),n)})))()},parseXml:function(t){for(var e=(new DOMParser).parseFromString(t,"application/xml").getElementsByTagName("Contents"),n=[],r=function(t){var r=e[t],a=function(t){var e=r.getElementsByTagName(t)[0];return e&&e.textContent?e.textContent:""},i=a("Key"),s=a("LastModified"),c=a("Size"),u=c?parseInt(c,10):0;i&&n.push({key:i,lastModified:s,size:u})},a=0;a<e.length;a++)r(a);return n},getNetwork:function(t){var e=(t||"").toLowerCase();return e.includes("uat")?"testnet":e.includes("main")?"mainnet":"-"},limitedBackups:function(t){return this.filteredBackups(t).sort((function(t,e){return t.lastModified<e.lastModified?1:-1})).slice(0,this.cnt)},filteredBackups:function(t){return this.backups.filter((function(e){var n=e.key||"";return!!n.includes(t)&&(!n.includes(".md5")&&!(!/^mdw[_-]/i.test(n)&&n.includes("latest")))}))},readableBytes:function(t){var e=Number(t),n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(!isFinite(e)||e<0)return"-";if(0===e)return"0 B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);return(e/Math.pow(1024,r)).toFixed(2)+" "+n[r]},showLoadMore:function(t){return this.cnt<=this.filteredBackups(t).length},tabChanged:function(){this.cnt=this.backupsCnt},getKind:function(t){return/mdw[_-]/i.test(t)||t.startsWith("mdw_")?"MDW":t.includes("_light_")?"Light":t.includes("_full_")?"Full":"full"}},computed:{latestBackups:function(){return(this.backups||[]).filter((function(t){var e=(t.key||"").toLowerCase();if(!e||e.endsWith(".md5"))return!1;var n=e.startsWith("main_v")||e.startsWith("uat_v")||e.startsWith("mdw_main_latest")||e.startsWith("mdw_uat_latest"),r=e.includes("latest");return n&&r}))}}},o=n(42),f=Object(o.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.latestBackups.length?n("div",t._l(t.latestBackups,(function(e){return n("div",{key:e.key,staticStyle:{margin:"6px 0"}},[n("a",{attrs:{href:t.baseUrl+"/"+e.key}},[n("Badge",{attrs:{text:"Get latest "+t.getKind(e.key)+" snapshot for "+t.getNetwork(e.key),vertical:"middle"}})],1),t._v("\n            - "+t._s(new Date(e.lastModified).toLocaleDateString())+" - "+t._s(t.readableBytes(e.size))+"\n        ")])})),0):t._e(),t._v(" "),n("tabs",{attrs:{options:{useUrlFragment:!1}},on:{changed:function(e){return t.tabChanged()}}},[n("tab",{attrs:{name:"Mainnet"}},[n("table",[n("thead",[n("tr",[n("th",[t._v("Date")]),t._v(" "),n("th",[t._v("Kind")]),t._v(" "),n("th",[t._v("Size")])])]),t._v(" "),n("tbody",t._l(this.limitedBackups("main"),(function(e){return n("tr",{key:e.key},[n("td",[n("a",{attrs:{href:t.baseUrl+"/"+e.key}},[t._v("\n                            "+t._s(new Date(e.lastModified).toLocaleDateString())+"\n                        ")])]),t._v(" "),n("td",[t._v(t._s(t.getKind(e.key)))]),t._v(" "),n("td",[t._v(t._s(t.readableBytes(e.size)))])])})),0)]),t._v(" "),n("div",[t.showLoadMore("main")?n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.cnt+=t.backupsCnt}}},[t._v("Show older backups")]):t._e()])]),t._v(" "),n("tab",{attrs:{name:"Testnet"}},[n("table",[n("thead",[n("tr",[n("th",[t._v("Date")]),t._v(" "),n("th",[t._v("Kind")]),t._v(" "),n("th",[t._v("Size")])])]),t._v(" "),n("tbody",t._l(this.limitedBackups("uat"),(function(e){return n("tr",{key:e.key},[n("td",[n("a",{attrs:{href:t.baseUrl+"/"+e.key}},[t._v("\n                            "+t._s(new Date(e.lastModified).toLocaleDateString())+"\n                        ")])]),t._v(" "),n("td",[t._v(t._s(t.getKind(e.key)))]),t._v(" "),n("td",[t._v(t._s(t.readableBytes(e.size)))])])})),0)]),t._v(" "),n("div",[t.showLoadMore("uat")?n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.cnt+=t.backupsCnt}}},[t._v("Show older backups")]):t._e()])])],1)],1)}),[],!1,null,null,null);e.default=f.exports}}]);